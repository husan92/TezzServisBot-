import os
from aiogram import Bot, Dispatcher, types
from aiogram.utils import executor

# –ë–µ—Ä—ë–º —Ç–æ–∫–µ–Ω –∏–∑ Railway –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
TOKEN = os.getenv("BOT_TOKEN").strip()

bot = Bot(token=TOKEN)
dp = Dispatcher(bot)

# –ö–æ–º–∞–Ω–¥–∞ /start
@dp.message_handler(commands=["start"])
async def start_handler(message: types.Message):
    await message.reply("–ü—Ä–∏–≤–µ—Ç! –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç üòä")

# –û—Ç–≤–µ—Ç –Ω–∞ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
@dp.message_handler()
async def echo_handler(message: types.Message):
    await message.reply(f"–í—ã –Ω–∞–ø–∏—Å–∞–ª–∏: {message.text}")

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
if __name__ == "__main__":
    executor.start_polling(dp, skip_updates=True)
